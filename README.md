# AI Karaoke — демо-экран сервиса AI-караоке

Одностраничное приложение на React, демонстрирующее концепт экрана сервиса AI-караоке. Интерфейс вдохновлён неоновой эстетикой: он включает блок текущего трека, панель управления с кнопкой воспроизведения и подсветкой активной строки текста, а также колонку со статусами и тайм-кодами.

## Быстрый старт

```bash
npm install
npm run dev
```

Приложение разворачивается на `http://localhost:5173` (порт Vite по умолчанию).

## Технический стек

- **React 18 + Vite** — основа приложения и dev-сервер.
- **CSS Modules / App.css** — стилизация экрана с неоновыми эффектами.
- **Jest + Testing Library** — подготовленная связка для компонентных тестов.
- **ESLint** — контроль качества и единообразия кода.
- **TypeScript (typecheck)** — статическая проверка типов через npm-скрипт.

## Структура каталогов

```
public/
└── logo/          # папка для файлов логотипа (пока пустая)
src/
    App.jsx        # корневой компонент экрана AI-караоке
    App.css        # основной стиль интерфейса
    main.jsx       # точка входа Vite
    index.css      # глобальные стили и CSS-переменные
```

## Переменные окружения

Приложение не требует обязательных переменных окружения. Для подключения внешних сервисов создайте файл `.env` и объявляйте переменные с префиксом `VITE_`, чтобы они были доступны внутри клиентского кода.

## Сетевой слой и схемы API

Демо-экран работает полностью офлайн и не выполняет запросов. Для интеграции с API рекомендуется использовать `fetch` или специализированные клиенты, описывая схемы в формате OpenAPI/JSON Schema в папке `src/api`.

### Документация по интеграции

- [Интеграция с пайплайном AI Karaoke](docs/backend-pipeline.md) — последовательность загрузки ассетов, пайплайн обработки, состояния jobs и правила безопасности.

## Хуки управления данными

На данный момент экран не использует кастомные хуки. При добавлении загрузки данных выносите повторное поведение в хуки внутри `src/hooks` и сопровождайте их unit-тестами.

## UI-компоненты и фичи

- Адаптивный макет в `App.jsx` с блоками текущего трека, очереди и статус-панели.
- Анимированная кнопка воспроизведения и индикаторы подсветки строк.
- Цветовые схемы и эффекты заданы в `App.css` и `index.css`.

## Скрипты npm

| Скрипт              | Назначение                           |
| ------------------- | ------------------------------------ |
| `npm run dev`       | Локальная разработка (Vite).         |
| `npm run build`     | Production-сборка.                   |
| `npm run preview`   | Предпросмотр собранного бандла.      |
| `npm run lint`      | Проверка кода ESLint.                |
| `npm run test`      | Запуск тестов (подготовлено Jest).   |
| `npm run typecheck` | Проверка типов через `tsc --noEmit`. |

## Тестирование и качество

- **ESLint**: `npm run lint` — проверка кода.
- **Unit/Component тесты**: `npm run test` — запуск Jest.
- **TypeScript**: `npm run typecheck` — контроль типов и TS-конфигурации.
- При добавлении новых зависимостей выполняйте `npm audit` для проверки безопасности.

## PWA и офлайн-режим

В каталоге `public/` находится `manifest.webmanifest` и иконки. Для полноценного PWA добавьте сервис-воркер в `src/pwa` и зарегистрируйте его в точке входа приложения.

## CI/CD

Настройте пайплайн так, чтобы при каждом коммите выполнялись `npm run lint`, `npm run test` и `npm run typecheck`. Для деплоя Vite-бандла можно использовать любой статический хостинг (Netlify, Vercel, Render и т. п.).

## Добавление новой фичи

1. Создайте ветку `feature/<краткое-описание>`.
2. Реализуйте функциональность, следуя архитектуре и код-стилю.
3. Обновите документацию и тесты.
4. Откройте PR с описанием изменений и результатами прогонов скриптов проверки.

## Правила коммита и PR

- Используйте Conventional Commits (`feat:`, `fix:`, `docs:` и т. д.).
- Каждый PR должен содержать краткое резюме и список выполненных проверок.
- Избегайте смешивания независимых изменений в одном PR.

## Лицензия

Проект распространяется под лицензией MIT.
